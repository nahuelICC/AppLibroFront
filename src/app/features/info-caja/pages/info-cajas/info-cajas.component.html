<div class="container mt-10 mx-auto max-w-7xl p-4">
  <!-- Mostrar las 3 suscripciones -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    <div *ngFor="let suscripcion of suscripciones"
         class="bg-white rounded-lg shadow-md relative p-6 border-2 cursor-pointer transition-all duration-300 transform hover:scale-105"
         [ngClass]="{
           'border-[#e74c3c] shadow-xl scale-110 z-10 border-2': suscripcion.id_tipo === suscripcionSeleccionada?.id_tipo,
           'border-gray-300': suscripcion.id_tipo !== suscripcionSeleccionada?.id_tipo
         }"
         (click)="seleccionarSuscripcion(suscripcion)">
      <!-- Etiqueta de nombre de suscripción -->
      <div class="absolute top-4 right-4 bg-[#078080] text-white px-3 py-1 rounded-full text-sm font-semibold">
        {{ getEtiqueta(suscripcion.nombre ?? '') }}
      </div>

      <!-- Título de la suscripción -->
      <h5 class="text-xl md:text-2xl font-semibold mb-2">{{ suscripcion.nombre }}</h5>
      <!-- Precio de la suscripción -->
      <p class="text-2xl md:text-3xl font-bold mb-4">{{ suscripcion.precio }}€ /mes</p>
    </div>
  </div>

  <!-- Información detallada de la suscripción seleccionada -->
  <div *ngIf="suscripcionSeleccionada" class="mt-12 p-8 bg-white rounded-lg shadow-lg relative overflow-hidden">
    <!-- Fondo decorativo -->
    <div class="absolute inset-0  from-[#e74c3c]/10 to-[#078080]/10 "></div>
    <!-- Nombre de la suscripción -->
    <h3 class="relative z-10 text-3xl font-bold text-center mb-8">{{ suscripcionSeleccionada.nombre }}</h3>

    <!-- Sección fija "¿Cómo funciona?" -->
    <section class="relative z-10 space-y-4">
      <h4 class="text-xl font-semibold text-[#e74c3c]">¿Cómo funciona?</h4>
      <p class="text-lg text-gray-700">
        Existen diferentes tipos de cajas que puedes seleccionar. Dependiendo de la suscripción elegida, tendrás acceso a distintos productos y beneficios exclusivos.
        Todas las suscripciones tienen la misma duración, pero varían en precio y contenido, permitiéndote elegir la que mejor se adapte a tus necesidades.
      </p>
    </section>

    <!-- Línea divisoria negra -->

    <!-- Sección fija "Duración" -->
    <section class="relative z-10 mt-5 space-y-4">
      <h4 class="text-xl font-semibold text-[#e74c3c]">Duración</h4>
      <div class="flex items-center text-lg text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        Mensual
      </div>
    </section>

    <!-- Línea divisoria negra -->

    <!-- Sección "¿Qué incluye la suscripción?" -->
    <section class="relative z-10 mt-5 space-y-4">
      <h4 class="text-xl font-semibold text-[#e74c3c]">
        ¿Qué incluye la suscripción {{ suscripcionSeleccionada.nombre }}?
      </h4>
      <ul class="list-none mt-4 text-lg text-gray-700">
        <li class="flex items-center gap-2" *ngFor="let parte of getDescripcionParts(suscripcionSeleccionada.descripcion ?? '')">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
          <span>{{ parte }}</span>
        </li>
      </ul>
    </section>

    <!-- Línea divisoria negra -->
    <div class="relative z-10 my-8 border-t-2 border-black w-full"></div>

    <!-- Sección "Precio" -->
    <p class="relative z-10 text-3xl font-bold text-center text-gray-900">{{ suscripcionSeleccionada.precio }}€ /mes</p>

    <!-- Botón de suscribirse centrado -->
    <div class="relative z-10 mt-8 flex justify-center">
      <app-boton [label]="'Suscribirse'" [color]="'#E53935'" [size]="'small'" (click)="confirmarSuscripcion()"></app-boton>
    </div>

    <!-- Alerta de confirmación -->
    <app-alert-confirmar
      *ngIf="mostrarAlerta"
      [message]="'¿Quieres suscribirte a ' + suscripcionSeleccionada?.nombre + '?'"
      (confirm)="onConfirm()"
      (cancel)="onCancel()">
    </app-alert-confirmar>
  </div>
</div>
